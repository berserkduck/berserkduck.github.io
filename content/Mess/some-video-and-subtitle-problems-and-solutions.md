---
title: 一些视频和字幕问题及解决方案
date: 2025-05-02
---

## 字幕时间戳不匹配
问题：有**视频文件A**和**字幕文件B**，用PotPlayer设置<u>字幕同步</u>后发现将字幕文件的时间超前27.5秒后视频和字幕匹配，如何修改字幕？

使用ArcTime

1. 在ArcTime中导入字幕文件
2. 功能-->时间轴整体平移、缩放功能
3. 将**时间轴整体平移**的值设置为27500ms
4. 导出调整后的文件

## 单独保存MKV文件中的字幕
问题：MKV文件中有多个字幕文件（ass格式），如何将某个字幕文件单独保存？

1. 使用MKVToolNix 查看要保存的字幕id

2. 使用ffmpeg导出字幕

```bash
ffmpeg -i input.mkv -map 0:s:0 subtitle.ass
```
- input.mkv：MKV文件绝对路径，在命令提示符拖入MKV文件即可
- 第一个0：第一个MKV文件，这里只有一个文件所以是0（这个命令可以一次添加多个文件）
- 第二个0：替换为字幕的id
- subtitle.ass：输出字幕的文件名，自定义

## MKV文件修改默认音频
问题：在MKV文件中有两个音频：英语和日语，默认为英语，如何将其修改为日语？

使用MKVToolNix

1. 点击添加输入文件，选择要操作的MKV文件
2. 将日语音频拖动到英语上方
3. 点击日语音频，在右侧**属性**中，将**默认轨标记**修改为**是**
4. 同时，将英语的**默认轨标记**修改为**否**
5. 点击**开始混流**得到输出文件

## 为MKV文件添加/移除字幕
问题：为MKV文件添加/移除字幕？

使用MKVToolNix

1. 将视频和字幕文件拖入MKVToolNix
2. 在**添加或追加文件**对话框中，选择**作为输入文件添加到当前混流设置**（默认选项），点击OK
3. 点击字幕，设置**语言**和**名称**
4. 如果有多个字幕，拖动调整优先级，并修改**默认轨标记**
5. 如果要移除字幕，将要移除的字幕取消勾选
6. 点击**开始混流**得到输出文件

## 提取硬字幕
这个需求是看《Onegai My Melody》（《奇幻魔法 Melody 》或 《拜托了 我的旋律》 ）时产生的。可以在b站找到一个国配版，质量比较差，还缺了几集。还有一个是日语TV原版（`[Moozzi2] Onegai My Melody - TV + SP`），质量好，但是没有字幕；另外还可以找到[英语字幕版](https://www.wcoanimesub.tv/anime/onegai-my-melody-english-subbed)：

|      | 音频  | 视频质量 | 字幕    |
| ---- | --- | ---- | ----- |
| 国配版  | 中文  | 差    | 中文硬字幕 |
| TV原版 | 日语  | 好    | 无     |
| 英语版  | 日语  | 好    | 英语硬字幕 |

想要看中文字幕只能从b站那个版本提取了

使用的工具是[VSE](https://github.com/YaoFANGUK/video-subtitle-extractor)，试着提取了第一集的字幕，目测提取正确率有60%，还有一些句子会缺失，需要手动编辑，工程量较大，目前没有更好的方案

替代方案：
1. ~~学习日语，看原版~~
2. 看英语版